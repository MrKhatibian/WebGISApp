
@{
    ViewBag.Title = "ArcGIS WMS Layer with Zoom";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- #region Link -->

<link rel="stylesheet" type="text/css" href="~/Content/Map/Map.css" />

<!-- #endregion -->
<!-- #region Script -->
@*Add mapload javascript*@
<script type="text/javascript" src="@Url.Content("/Scripts/Map/MapLoad.js")"></script>

@*Add Online leaflet.js*@
@*<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>*@
@*Add locall leaflet.js*@
<script type="text/javascript" src="~/Content/Map/Leaflet/leaflet.js"></script>

<!-- #endregion -->

<!-- #region viewMapDiv -->

<div id="map"></div>

<!-- #endregion -->


<script>       
        // Initialize the map
        var map = L.map('map').setView([51.505, -0.09], 10);

        // Add a base map (optional)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Add your WMS layer from the local ArcGIS Server
        var wmsLayer = L.tileLayer.wms('http://localhost:6080/arcgis/services/Maryanaj/Maryanaj_14030619/MapServer/WMSServer', {
            layers: '0',  // Replace '0' with the correct layer ID
            format: 'image/png',
            transparent: true,
            attribution: 'ArcGIS WMS Layer'
        }).addTo(map);

        // Bounding box for the WMS layer (get this from GetCapabilities)
        var layerBounds = [
            [34.822474, 48.452172],   // Southwest corner (miny, minx)
            [34.842205, 48.476566]   // Northeast corner (maxy, maxx)
        ];

        // Zoom the map to the WMS layer bounds
        map.fitBounds(layerBounds);
</script>



@*<div id="viewMapDiv">
    <h3 id="viewMapDiv_h3">
        Hii Map
    </h3>
    <button class="btn-danger" type="button" onclick="Myfunction()">Say Hi</button>

</div>*@

